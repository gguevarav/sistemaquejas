{"remainingRequest":"C:\\Users\\dguevara\\proyectos\\danilo\\sistemaquejas\\app_quejas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dguevara\\proyectos\\danilo\\sistemaquejas\\app_quejas\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\dguevara\\proyectos\\danilo\\sistemaquejas\\app_quejas\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\dguevara\\proyectos\\danilo\\sistemaquejas\\app_quejas\\src\\store\\index.js","mtime":1632887531270},{"path":"C:\\Users\\dguevara\\proyectos\\danilo\\sistemaquejas\\app_quejas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\dguevara\\proyectos\\danilo\\sistemaquejas\\app_quejas\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\dguevara\\proyectos\\danilo\\sistemaquejas\\app_quejas\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL21haW4iOyAvL2F4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7CgpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly8xMjcuMC4wLjE6ODAwMCI7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKSB8fCBudWxsLAogICAgZGF0b3M6IG51bGwsCiAgICBOb21icmVVc3VhcmlvOiBudWxsLAogICAgQ29ycmVvVXN1YXJpbzogbnVsbAogIH0sCiAgZ2V0dGVyczogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b2tlbiAhPT0gbnVsbDsKICAgIH0KICB9LAogIG11dGF0aW9uczoge30sCiAgYWN0aW9uczogewogICAgcmV0cmlldmVUb2tlbjogZnVuY3Rpb24gcmV0cmlldmVUb2tlbihjb250ZXh0LCBjcmVkZW50aWFscykgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvYXV0aC9sb2dpbicsIHsKICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBjcmVkZW50aWFscy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgdmFyIHRva2VuID0gcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW47CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzX3Rva2VuJywgJ0JlYXJlciAnICsgdG9rZW4pOyAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCkKCiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgncmV0cmlldmVUb2tlbicsIHRva2VuKTsgLy90aGlzLm9idGVuZXJJbmZvcm1hY2lvblVzdWFyaW8oY3JlZGVudGlhbHMpOwoKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlc3Ryb3lUb2tlbjogZnVuY3Rpb24gZGVzdHJveVRva2VuKGNvbnRleHQpIHsKICAgICAgaWYgKGNvbnRleHQuZ2V0dGVycy5sb2dnZWRJbikgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2F1dGgvbG9nb3V0JywgJycsIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGNvbnRleHQuc3RhdGUudG9rZW4KICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaWRVc3VhcmlvJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdOb21icmVVc3VhcmlvJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdDb3JyZW9Vc3VhcmlvJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpZFJvbCcpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnTm9tYnJlUm9sJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgICBidXMuJGVtaXQoJ2xvZ2dlZCcsICdVc2VyIGxvZ2dlZCcpOwogICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogImxvZ2luIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ2Rlc3Ryb3lUb2tlbicpOwogICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpZFVzdWFyaW8nKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ05vbWJyZVVzdWFyaW8nKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ0NvcnJlb1VzdWFyaW8nKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2lkUm9sJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdOb21icmVSb2wnKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgIGJ1cy4kZW1pdCgnbG9nZ2VkJywgJ1VzZXIgbG9nZ2VkJyk7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAibG9naW4iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnZGVzdHJveVRva2VuJyk7CiAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIENvbG9yIHBvciBzdGF0dXMgZGUgYWN0aXZpZGFkCiAgICBjb2xvckVzdGFkb0FjdGl2aWRhZDogZnVuY3Rpb24gY29sb3JFc3RhZG9BY3RpdmlkYWQoY29udGV4dCwgZXN0YWRvKSB7CiAgICAgIHZhciBjb2xvciA9ICcnOwoKICAgICAgaWYgKGVzdGFkby5Ob21icmVFc3RhZG8gPT0gJ0FjdGl2bycpIHsKICAgICAgICBjb2xvciA9ICdyZWQnOwogICAgICB9IGVsc2UgaWYgKGVzdGFkby5Ob21icmVFc3RhZG8gPT0gJ0VuIHByb2Nlc28nKSB7CiAgICAgICAgcmV0dXJuICd5ZWxsb3cnOwogICAgICB9IGVsc2UgaWYgKGVzdGFkby5Ob21icmVFc3RhZG8gPT0gJ0NlcnJhZG8nKSB7CiAgICAgICAgcmV0dXJuICdncmVlbic7CiAgICAgIH0KCiAgICAgIGNvbnRleHQuY29tbWl0KCdjb2xvckVzdGFkb0FjdGl2aWRhZCcsIGNvbG9yKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["C:/Users/dguevara/proyectos/danilo/sistemaquejas/app_quejas/src/store/index.js"],"names":["Vue","Vuex","axios","router","bus","defaults","baseURL","use","Store","state","token","localStorage","getItem","datos","NombreUsuario","CorreoUsuario","getters","loggedIn","mutations","actions","retrieveToken","context","credentials","Promise","resolve","reject","post","email","username","password","then","response","data","access_token","setItem","commit","catch","error","destroyToken","headers","Authorization","removeItem","clear","$emit","push","name","colorEstadoActividad","estado","color","NombreEstado","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport router from \"@/router\";\nimport {bus} from \"@/main\";\n\n//axios.defaults.withCredentials = true;\naxios.defaults.baseURL =\"http://127.0.0.1:8000\"\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    token: localStorage.getItem('access_token') || null,\n    datos: null,\n    NombreUsuario: null,\n    CorreoUsuario: null,\n  },\n  getters:{\n    loggedIn(state){\n      return state.token !== null\n    }\n  },\n  mutations: {\n    \n  },\n  actions: {\n    retrieveToken(context, credentials) {\n\n      return new Promise((resolve, reject) => {\n        axios.post('/api/auth/login', {\n          email: credentials.username,\n          password: credentials.password,\n        })\n          .then(response => {\n            //console.log(response)\n            const token = response.data.access_token\n            localStorage.setItem('access_token', 'Bearer ' + token)\n            //localStorage.setItem()\n            context.commit('retrieveToken', token)\n            //this.obtenerInformacionUsuario(credentials);\n            resolve(response)\n          })\n          .catch(error => {\n            //console.log(error)\n            reject(error)\n          })\n      });\n\n    },\n\n    \n\n    destroyToken(context) {\n      \n      if (context.getters.loggedIn){\n        \n        return new Promise((resolve, reject) => {\n          axios.post('/api/auth/logout', '', {\n              headers: { Authorization: 'Bearer ' + context.state.token }\n            })\n            .then(response => {\n              //console.log(response)\n              localStorage.removeItem('access_token')\n              localStorage.removeItem('idUsuario')\n              localStorage.removeItem('NombreUsuario')\n              localStorage.removeItem('CorreoUsuario')\n              localStorage.removeItem('idRol')\n              localStorage.removeItem('NombreRol')\n              localStorage.clear();\n              bus.$emit('logged', 'User logged');\n              router.push({ name: \"login\" });\n              context.commit('destroyToken')\n  \n              resolve(response)\n            })\n            .catch(error => {\n              //console.log(error)\n              localStorage.removeItem('access_token')\n              localStorage.removeItem('idUsuario')\n              localStorage.removeItem('NombreUsuario')\n              localStorage.removeItem('CorreoUsuario')\n              localStorage.removeItem('idRol')\n              localStorage.removeItem('NombreRol')\n              localStorage.clear();\n              bus.$emit('logged', 'User logged');\n              router.push({ name: \"login\" });\n              context.commit('destroyToken')\n\n              reject(error)\n            })\n        })\n      }\n    },\n\n    // Color por status de actividad\n    colorEstadoActividad(context, estado){\n      var color = '';\n      if(estado.NombreEstado == 'Activo'){\n        color = 'red';\n      }else if(estado.NombreEstado == 'En proceso'){\n        return 'yellow';\n      }else if(estado.NombreEstado == 'Cerrado') {\n        return 'green';\n      }\n      context.commit('colorEstadoActividad', color);\n    }\n  },\n  modules: {\n  }\n})\n"]}]}